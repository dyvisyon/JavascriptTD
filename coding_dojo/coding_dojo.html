
<!DOCTYPE>
<html lang="fr">


<head>
	<meta charset="utf-8">
    <title>Jeu de pendu en Javascipt</title>
    <link rel=Stylesheet type="text/css" href=style.css>
    <script>
        
        var motSecret;
        // Le tableau qui contient tous les mots possibles

        var tableauMot = new Array(); // Le tableau qui contient les lettres du mot à trouver
        var batWordsE = new Array();
        var pokeWordsE = new Array();
        var disneyWordsE = new Array();
        var kitchenWordsE = new Array();
        var batWordsM = new Array();
        var pokeWordsM = new Array();
        var disneyWordsM = new Array();
        var kitchenWordsM = new Array();
        var batWordsH = new Array();
        var pokeWordsH = new Array();
        var disneyWordsH = new Array();
        var kitchenWordsH = new Array();

        var tailleMot; // Le nombre de lettres du mot à trouver
        var coupsManques = 0; // Le nombre de lettres fausses essayées
        var lettresTrouvees = 0; // Le nombre de lettres trouvées
        var fini = false; // true si le jeu est terminé

        batWordsE[0] = "ROBIN";
        batWordsE[1] = "JOKER";
        batWordsE[2] = "WAYNE";
        pokeWordsE[0] = "KANTO";
        pokeWordsE[1] = "RED";
        pokeWordsE[2] = "ABO";
        disneyWordsE[0] = "DINGO";
        disneyWordsE[1] = "NEMO";
        disneyWordsE[2] = "PIXAR";
        kitchenWordsE[0] = "RIZ";
        kitchenWordsE[1] = "LAMBI";
        kitchenWordsE[2] = "FOUET";
        batWordsM[0] = "BATCAVE";
        batWordsM[1] = "GOTHAM";
        batWordsM[2] = "JUSTICE";
        pokeWordsM[0] = "POKEBALL";
        pokeWordsM[1] = "ARENES";
        pokeWordsM[2] = "POKEDEX";
        disneyWordsM[0] = "MICKEY";
        disneyWordsM[1] = "HERCULE";
        disneyWordsM[2] = "MALEFIQUE";
        kitchenWordsM[0] = "HARICOT";
        kitchenWordsM[1] = "CANTINE";
        kitchenWordsM[2] = "COUTEAU";
        batWordsH[0] = "ARKHAM";
        batWordsH[1] = "FIREFLY";
        batWordsH[2] = "PENNYWORTH";
        pokeWordsH[0] = "HYPOMADE";
        pokeWordsH[1] = "LAVANVILLE";
        pokeWordsH[2] = "MASTERBALL";
        disneyWordsH[0] = "POCAHONTAS";
        disneyWordsH[1] = "PINOCCHIO";
        disneyWordsH[2] = "DALMATIENS";
        kitchenWordsH[0] = "TARTIFLETTE";
        kitchenWordsH[1] = "EMPANADAS";
        kitchenWordsH[2] = "RATATOUILLE";

        function getRandomInt(max) {
            return Math.floor(Math.random() * Math.floor(max + 1));
        }

        function displayMenu(){
			document.getElementById('menu').style.display = block;
			document.getElementById('page').style.display = none;
		}

		function displayGame(){
			document.getElementById('menu').style.display = none;
			document.getElementById('page').style.display = block;
		}

        function getForms(){
			themeSelected = document.querySelector('input[name=tChoice]:checked').value; 
			hardnessSelected = document.querySelector('input[name=hChoice]:checked').value; 
			playerNameSelected = document.getElementById('nameEntry').value;
			if(playerNameSelected == ''){
				playerNameSelected = 'Noob';
			}
			getTheme(themeSelected, hardnessSelected);
			console.log(themeSelected, hardnessSelected,playerNameSelected);
		}

		function getTheme(a,b){

			if(b == 'Facile'){
				switch(a){

					case 'Disney': 
						wordsList = disneyWordsE;
					break;

					case 'Batman': 
						wordsList = batWordsE;
					break;

					case 'Pokemon': 
						wordsList = pokeWordsE;
					break;

					case 'Cuisine': 
						wordsList = kitchenWordsE;
					break;
					
				}
			}
			else if( b == 'Intermediaire'){
				switch(a){

					case 'Disney': 
						wordsList = disneyWordsM;
					break;

					case 'Batman': 
						wordsList = batWordsM;
					break;

					case 'Pokemon': 
						wordsList = pokeWordsM;
					break;

					case 'Cuisine': 
						wordsList = kitchenWordsM;
					break;
					
				}
			}
			else{
				switch(a){

					case 'Disney': 
						wordsList = disneyWordsH;
					break;

					case 'Batman': 
						wordsList = batWordsH;
					break;

					case 'Pokemon': 
						wordsList = pokeWordsH;
					break;

					case 'Cuisine': 
						wordsList = kitchenWordsH;
					break;
					
				}
			}
			motSecret = randomWord(wordsList);
			console.log('mot = ' + motSecret);
			console.log(wordsList);
			tailleMot = motSecret.length;
			//isplayGame();
		}
        // On prend un mot au hasard en fonction de la seconde en cours
        	

        

        function randomWord(list) {
            let roll = getRandomInt(2);

            if (roll == 0) {
                roll = list[0];
            } else if (roll == 1) {
                roll = list[1];
            } else if (roll == 2) {
                roll = list[2];
            }
            return roll;
        }

        

        // Permet de changer la couleur des touches du clavier
        function changeCouleur(element, couleur) {
            element.style.backgroundColor = couleur;
        }

        // Gère tous les traitements à faire lorsqu'on appuie sur une touche
        function proposer(element) {

            // Si la couleur de fond est lightgreen, c'est qu'on a déjà essayé - on quitte la fonction
            if (element.style.backgroundColor == "lightGreen" || fini) return;

            // On récupére la lettre du clavier et on met la touche en lightgreen (pour signaler qu'elle est cliqu�e)
            var lettre = element.innerHTML;
            changeCouleur(element, "lightGreen");

            // On met la variable trouve à false;
            var trouve = false;

            // On parcours chaque lettre du mot, on cherche si on trouve la lettre s�l�ectionn�e au clavier
            for (var i = 0; i < tailleMot; i++) {

                // Si c'est le cas :
                if (tableauMot[i].innerHTML == lettre) {
                    tableauMot[i].style.visibility = 'visible'; // On affiche la lettre
                    trouve = true;
                    lettresTrouvees++;
                }

            }

            // Si la lettre n'est pas pr�sente, trouv� vaut toujours false :
            if (!trouve) {
                coupsManques++;
                document.images['pendu'].src = "images/pendu_" + coupsManques + ".jpg"; // On change l'image du pendu

                // Si on a rat� 9 fois :
                if (coupsManques == 9) {
                    alert("Vous avez perdu !");
                    for (var i = 0; i < tailleMot; i++) tableauMot[i].style.visibility = 'visible';
                    fini = true;
                    // on affiche le mot, on fini le jeu
                }
            }
            if (lettresTrouvees == tailleMot) {
                alert("Bravo ! Vous avez découvert le mot secret !");
                fini = true;
            }
        }


		

		var themeSelected; 
		var hardnessSelected; 
		var playerNameSelected;
		var wordsList;

		

		
       
    </script>
</head>

<body>

<center>

<div id="menu">

	<h1>Le Pendu</h1>
	
	<form id="nameForm">
		<label for="playerName"> Entrez votre pseudo :</label>
		<input id="nameEntry" type="text" name="playerName" required>
	</form>
	<form id="themeForm">
		<p id="themeChoice">Choisissez un thème :</p>
		<input id="disney" name="tChoice" type="radio" value="Disney" required>
		<input id="batman" name="tChoice" type="radio" value="Batman" required>
		<input id="pokemon" name="tChoice" type="radio" value="Pokemon" required>
		<input id="cuisine" name="tChoice" type="radio" value="Cuisine" required>
	</form>
	<form id="hardnessForm">
		<p id="hardnessChoice">Choisissez une difficulté :</p>
		<input id="easy" name="hChoice" type="radio" value="Facile" required>
		<input id="medium" name="hChoice" type="radio" value="Intermediaire" required>
		<input id="hard" name="hChoice" type="radio" value="Difficile" required>
	</form>
	<input type="submit" name="Valider" onclick="getForms()">

</div>
<div id="page">
	
	<img name="pendu" class="pendu" src="images/pendu_0.jpg">
	
	<h1 id="themeTitre"></h1>

	<h2>Cliquez sur une lettre du clavier ci-dessous ; si elle est dans le mot recherché, elle sera affichée mais sinon... Pendu !</h2>
	
	<table id="clavier">
	 <tr>
	  <td onclick="proposer(this);" >A</td>
	  <td onclick="proposer(this);" >B</td>
	  <td onclick="proposer(this);" >C</td>
	  <td onclick="proposer(this);" >D</td>
	  <td onclick="proposer(this);" >E</td>
	  <td onclick="proposer(this);" >F</td>
	  <td onclick="proposer(this);" >G</td>
	  <td onclick="proposer(this);" >H</td>
	  <td onclick="proposer(this);" >I</td>
	  <td onclick="proposer(this);" >J</td>
	 </tr>
	 <tr>
	  <td onclick="proposer(this);" >K</td>
	  <td onclick="proposer(this);" >L</td>
	  <td onclick="proposer(this);" >M</td>
	  <td onclick="proposer(this);" >N</td>
	  <td onclick="proposer(this);" >O</td>
	  <td onclick="proposer(this);" >P</td>
	  <td onclick="proposer(this);" >Q</td>
	  <td onclick="proposer(this);" >R</td>
	  <td onclick="proposer(this);" >S</td>
	  <td onclick="proposer(this);" >T</td>
	 </tr>
	 <tr>
	  <td onclick="proposer(this);" >U</td>
	  <td onclick="proposer(this);" >V</td>
	  <td onclick="proposer(this);" >W</td>
	  <td onclick="proposer(this);" >X</td>
	  <td onclick="proposer(this);" >Y</td>
	  <td onclick="proposer(this);" >Z</td>
	 </tr>
	</table>
	<br>
	<a class="lien" href="javascript:location.reload();">Nouvelle partie</a>
		
	<table id="mot">
		<tr>
			<script language="javascript">
				for(var i=0; i<tailleMot; i++) document.write("<td> <p id=\""+i+"\">"+motSecret.charAt(i)+"</p></td>");
			</script>
		</tr>
	</table>
	
	
	<script language="javascript">
		for(var i=0; i<tailleMot; i++) tableauMot[i]=document.getElementById(i);
	</script>

<center>
</div>

</body>

</html>
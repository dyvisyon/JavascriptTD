<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TD III test javascript</title>
    <link rel="stylesheet" href="cssFile/tdJsStyle.css">
    <link rel="stylesheet" href="cssFile/menuStyle.css">
</head>

<body>
    <header>
        <a href="index.html">
            <img id="logo" src="imgFile/Yodapokemon.jpg" alt="indexLink">
        </a>
        <div>
            <h1>Semaine Javascript</h1>
        </div>
        <nav>
            <ul id="menu">
                <li><a href="index.html">Accueil</a></li>
                <li><a href="#">TDs</a>
                    <ul>
                        <li>
                            <a href="TD_I.html">TD I</a>
                        </li>
                        <li><a href="TD_II.html">TD II</a></li>
                        <li><a href="TD_III.html">TD III</a></li>
                        <li><a href="TD_IV.html">TD IV</a></li>
                        <li><a href="projet.html">Projet</a></li>
                    </ul>
                </li>
                <li>L'équipe : lesPaillettes
                    <ul>
                        <li>Keen'v --> Kévin Ruault</li>
                        <li>La Martiniquaise --> Tania Rojas</li>
                        <li>Lolo des Bois --> Laurent Bodin</li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <form method="POST">
        <label for="name">Enter your name: </label>
        <input type="text" name="name" id="name">
    </form>

    <form onsubmit="return false;">
        <input type="image" id="punch" src="imgFile/punch.png" value="pierre" name="bouton" onclick="jouerPierre()">
        <input type="image" id="hand" src="imgFile/hand.png" value="feuille" name="bouton" onclick="jouerFeuille()">
        <input type="image" id="deaf" src="imgFile/deaf.png" value='ciseaux' name="bouton" onclick="jouerCiseaux()">
    </form>

    <form onsubmit="return false;">
        <input type="submit" value="Recommencer" onclick="isLost()">
    </form>
    <p id=reponse></p>

    <script>
        function isLost() {
            document.getElementById("reponse").innerHTML = "Perdu !";
        }

        var botPlay;

        function jouerPierre() {
            botPlay = randomBotChoice();
            console.log('user: pierre, bot:', botPlay);
            compare('pierre', botPlay);
        }

        function jouerFeuille() {
            botPlay = randomBotChoice();
            console.log('user: feuille, bot:', botPlay);
            compare('feuille', botPlay);
        }

        function jouerCiseaux() {
            botPlay = randomBotChoice();
            console.log('user: ciseaux bot:', botPlay);
            compare('ciseaux', botPlay);
        }

        function getRandomInt(max) {
            return Math.floor(Math.random() * Math.floor(max + 1));
        }

        function randomBotChoice() {
            var botChoice = getRandomInt(2);

            if (botChoice == 0) {
                botChoice = "pierre";
            } else if (botChoice == 1) {
                botChoice = "feuille";
            } else if (botChoice == 2) {
                botChoice = "ciseaux";
            }
            console.log(botChoice);
            return botChoice;
        }

        function compare(a, b) {
            //si choix du joueur == choix ordi : egalité
            if (a == 'pierre') {
                switch (b) {
                    case 'ciseaux':
                        document.getElementById('reponse').innerHTML = 'Gagné !';
                        break;

                    case 'pierre':
                        document.getElementById('reponse').innerHTML = 'Egalité !';
                        break;

                    case 'feuille':
                        document.getElementById('reponse').innerHTML = 'Perdu !';
                        break;
                }
            } else if (a == 'feuille') {
                switch (b) {
                    case 'ciseaux':
                        document.getElementById('reponse').innerHTML = 'Perdu !';
                        break;

                    case 'pierre':
                        document.getElementById('reponse').innerHTML = 'Gagné !';
                        break;

                    case 'feuille':
                        document.getElementById('reponse').innerHTML = 'Egalité !';
                        break;
                }
            } else {
                switch (b) {
                    case 'ciseaux':
                        document.getElementById('reponse').innerHTML = 'Egalité !';
                        break;

                    case 'pierre':
                        document.getElementById('reponse').innerHTML = 'Perdu !';
                        break;

                    case 'feuille':
                        document.getElementById('reponse').innerHTML = 'Gagné !';
                        break;
                }
            }
        }
    </script>

    <footer>
        <div>
            <img src="imgFile/zeTeam.jpg" alt="zeTeam">
            <p>TD I by lesPaillettes<br>(aka Keen'v, la Martiniquaise et lolo des bois)</p>
        </div>
    </footer>

</body>

</html>
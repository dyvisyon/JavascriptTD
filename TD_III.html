<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TD III test javascript</title>
</head>

<body>
    <form method="POST">
        <label for="name">Enter your name: </label>
        <input type="text" name="name" id="name" >
    </form>

    <form onsubmit="return false;">
        <input type="image" id="punch" src="imgFile/punch.png" value="pierre" name="bouton" onclick="jouerPierre()">
        <input type="image" id="hand" src="imgFile/hand.png" value="feuille" name="bouton" onclick="jouerFeuille()">
        <input type="image" id="deaf" src="imgFile/deaf.png" value='ciseaux' name="bouton" onclick="jouerCiseaux()">
    </form>

    <form>
        <input type="submit" value="Recommencer" onclick="islost()">
    </form>
    <p id=reponse></p>
    <p id="continue"></p>
    <script>
        function isLost() {
                document.getElementById("continue").innerHTML = "C\'est perdu.";
        }

        var botPlay;

        function jouerPierre() {
            botPlay = randomBotChoice();
            console.log('user: pierre, bot:', botPlay);
            compare('pierre', botPlay);
        }

        function jouerFeuille() {
            botPlay = randomBotChoice();
            console.log('user: feuille, bot:', botPlay);
            compare('feuille', botPlay);
        }

        function jouerCiseaux() {
            botPlay = randomBotChoice();
            console.log('user: ciseaux bot:', botPlay);
            compare('ciseaux', botPlay);
        }

        function getRandomInt(max) {
            return Math.floor(Math.random() * Math.floor(max + 1));
        }

        function randomBotChoice() {
            var botChoice = getRandomInt(2);

            if (botChoice == 0) {
                botChoice = "pierre";
            } else if (botChoice == 1) {
                botChoice = "feuille";
            } else if (botChoice == 2) {
                botChoice = "ciseaux";
            }
            console.log(botChoice);
            return botChoice;
        }

        function compare(a, b) {
            //si choix du joueur == choix ordi : egalité
            if (a == 'pierre') {
                switch (b) {
                    case 'ciseaux':
                        document.getElementById('reponse').innerHTML = 'gagné';
                        break;

                    case 'pierre':
                        document.getElementById('reponse').innerHTML = 'égalité';
                        break;

                    case 'feuille':
                        document.getElementById('reponse').innerHTML = 'perdu';
                        break;
                }
            } else if (a == 'feuille') {
                switch (b) {
                    case 'ciseaux':
                        document.getElementById('reponse').innerHTML = 'perdu';
                        break;

                    case 'pierre':
                        document.getElementById('reponse').innerHTML = 'gagné';
                        break;

                    case 'feuille':
                        document.getElementById('reponse').innerHTML = 'égalité';
                        break;
                }
            } else {
                switch (b) {
                    case 'ciseaux':
                        document.getElementById('reponse').innerHTML = 'égalité';
                        break;

                    case 'pierre':
                        document.getElementById('reponse').innerHTML = 'perdu';
                        break;

                    case 'feuille':
                        document.getElementById('reponse').innerHTML = 'gagné';
                        break;
                }
            }
        }
    </script>

</body>

</html>
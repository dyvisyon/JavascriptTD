<!DOCTYPE html>
<html>

<head>
    <title>TD II Javascript</title>
</head>

<body>


    <form onsubmit="return false;">
        Enter a number : <input id="numberEntry" type="text" name="number">
        <input type="submit" value="Envoyer" onclick="isFound()">
        <input type="submit" value="Recommencer" onclick="isLost()">
    </form>
    <p id="continue"></p>
    <div id="mondiv"></div>

    <script>
        function getRandomInt(max) {
            return Math.floor(Math.random() * Math.floor(max + 1));
        }

        var nombreCherche = getRandomInt(100);

        console.log(nombreCherche);

        function isFound() {
            var arg = document.getElementById('numberEntry').value;
            compteurEssai++;
            if (arg < nombreCherche) {
                document.getElementById("continue").innerHTML = "C\'est plus.";
            } else if (arg > nombreCherche) {
                document.getElementById("continue").innerHTML = "C\'est moins.";
            } else if (arg == nombreCherche) {
                document.getElementById("continue").innerHTML = "C\'est gagné.";
                tableauCoups.push([nombreCherche, compteurEssai]);
                if (tableauCoups.length > 5) {
                    tableauCoups.shift();
                }
                compteurEssai = 0;
                nombreCherche = getRandomInt(100);
                console.log(nombreCherche);
                console.log('tab histo', tableauCoups);
            } else {
                document.getElementById("continue").innerHTML = "Erreur dans l'entrée.";
            }
        }

        function isLost() {
            document.getElementById("continue").innerHTML = "C\'est perdu.";
            tableauCoups.push([nombreCherche, -1])
            if (tableauCoups.length > 5) {
                tableauCoups.shift();
            }
            compteurEssai = 0;
            nombreCherche = getRandomInt(100);
            console.log(nombreCherche);
            console.log('tab histo', tableauCoups);
        }

        var compteurEssai = 0;
        var tableauCoups = [];
        if (tableauCoups != null) {
            document.getElementById("mondiv").innerHTML = tableauCoups.join();
        }



        //[[0,0]]
        //[[0,0],[0,0]]
        //[[0,0],[0,0],[0,0],[0,0],[0,0]]
        //[[0,0],[0,0],[0,0],[0,0],[0,0]]
    </script>

</body>

</html>